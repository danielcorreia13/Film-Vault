<!DOCTYPE html>
<html lang="en">
<head>
  <title>FilmVault</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-migrate-3.3.1.min.js"
          integrity="sha256-APllMc0V4lf/Rb5Cz4idWUCYlBDG3b0EcN1Ushd3hpE="
          crossorigin="anonymous"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
  <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

  <style>
    /* Remove the navbar's default margin-bottom and rounded borders */

    .d1{
        position: relative;
        top: 10px;
        left: 45%;
    }

    .md1{
        height: 1080px;
        width: 1920px;
    }

    .scrollable-menu {
    height: auto;
    max-height: 200px;
    overflow-x: hidden;
}

    .navbar {
      padding: 1%;
      margin-bottom: 0;
      border-radius: 0;
    }
    .navbar-nav.navbar-center{
        position: absolute;
        left: 50%;
        transform: translateX(-50%) ;
        top: 30%;
    }

    /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
    .row.content {height: 804px;}

    /* Set gray background color and 100% height */
    .sidenav {
      padding-top: 20px;
      background-color: #f1f1f1;
      height: 100%;
    }

    /* Set black background color, white text and some padding */
    footer {
      background-color: silver;
      color: white;
     padding: 15px;
    }

    /* On small screens, set height to 'auto' for sidenav and grid */
    @media screen and (max-width: 767px) {
      .sidenav {
        height: auto;
        padding: 15px;
      }
      .row.content {height:auto;}
    }

    .film-card {
        position: relative;
        width: inherit;
        height: 250px;
        display: flex;
    }

    .image-card {
        padding: 2.5%;
        left: 0;
        width: auto;
        height: 100%;
    }

    .content-card{
        position: absolute;
        left:16.5%;
    }

    .rating-card {
        position: absolute;
        top: 0%;
        right: 5%;
    }

  </style>
</head>
<body>

<nav class="navbar navbar-inverse"  style="z-index: 10;">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">FilmVault</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class ="nav navbar-nav navbar-center">
          <li>
              <div class="col-xs-13 ">
		    <div class="input-group">
                <div class="input-group-btn search-panel">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                    	<span id="search_concept">Filter by</span> <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                      <li><a href="#contains">Contains</a></li>
                      <li><a href="#its_equal">It's equal</a></li>
                      <li><a href="#greather_than">Greather than ></a></li>
                      <li><a href="#less_than">Less than < </a></li>
                      <li class="divider"></li>
                      <li><a href="#all">Anything</a></li>
                    </ul>
                </div>
                <input type="hidden" name="search_param" value="all" id="search_param">
                <input type="text" class="form-control" name="x" placeholder="Search term...">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </div>
        </div>
          </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
        <li><a href="#">About</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container-fluid  text-left">
  <div class="row content">
    <div class="col-sm-2 sidenav">

            <div class="col-sm-50">
                <button class="btn btn-default btn-block" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                    Genre
                </button>
            </div>
            <div class="collapse" id="collapseExample">
              <input type="checkbox" id="Action" name="Action" value="Action">
              <label for="Action"> Action</label><br>
              <input type="checkbox" id="Horror" name="Horror" value="Horror">
              <label for="Horror"> Horror</label><br>
              <input type="checkbox" id="Comedy" name="Comedy" value="Comedy">
              <label for="Comedy"> Comedy</label><br>
             </div>
            <div class="col-sm-50">
                <button class="btn btn-default btn-block" type="button" data-toggle="collapse" data-target="#collapseExample1" aria-expanded="false" aria-controls="collapseExample1">
                    Year
                </button>
            </div>
            <div class="collapse" id="collapseExample1">
               <p class="text-justify">From:</p>
                <input type="range" min="1950" max="2020" value="1950" oninput="this.nextElementSibling.value = this.value" onchange = "document.getElementById('to').min=this.value;" id="from">
                <output>1950</output>
                <p class="text-justify">To:</p>
                <input type="range" min="1950"  min = "document.getElementById('from').value" max="2020" value="document.getElementById('from').value"  oninput="this.nextElementSibling.value = this.value" id="to">
                <output></output>
            </div>

    </div>
    <div class="col-sm-8 text-left">

        <h2>Results:</h2>
        <div class="dropdown ">

          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Sort by:
          </button>
          <ul class="dropdown-menu " aria-labelledby="dropdownMenuButton">
            <li class="dropdown-item" href="#">Alphabetic</li>
            <li class="dropdown-item" href="#">Most recent</li>

          </ul>
      </div>
        <div id="list-films" >
            <hr>
            {% block content %}
                {% if dic %}
                    {% for movies in dic %}
                            <div class="film-card">
                               <a href="http://127.0.0.1:8000/film/{{movies.id}}">
                                    <img class="image-card" src={{movies.cover}}/>
                               </a>
                                <div class="content-card">
                                    <a href="http://127.0.0.1:8000/film/{{movies.id}}">
                                        <h1>{{movies.title}}</h1>
                                    </a>

                                    <br>
                                    <h4>&nbsp;{{movies.year}}</h4>
                                    <h4>
                                      <h4>{% if movies.genres.items %} | {%  endif %}
                                    {% for i in movies.genres.item %}
                                        {{i}} |
                                    {% endfor %}

                                    </h4>
                                    <h4>{% if movies.actors.items %} | {%  endif %}
                                    {% for i in movies.actors.name %}
                                        {{i}} |
                                    {% endfor %}
                                    </h4>
                                    <h4>
                                    {% if movies.directors.items %} | {%  endif %}
                                    {% if movies.directors.name|length == 2 %}
                                        {{ movies.directors.name.0}} |
                                        {{ movies.directors.name.1}}
                                    {% else %}
                                        {{ movies.directors.name}}
                                    {% endif %}
                                     {% if movies.directors.items %} | {%  endif %}
                                    </h4>
                                </div>
                                <div class="rating-card">
                                    {% if movies.rating == None %}
                                        <h2>0.0/10</h2>
                                    {% else %}
                                        <h2>{{movies.rating}}/10</h2>
                                    {% endif %}
                                    {% if movies.votes == None %}
                                        <h5>No votes</h5>
                                    {% else %}
                                        <h5>{{movies.votes}}</h5>
                                    {% endif%}
                                </div>
                            </div>
                            <hr>
                    {% endfor %}
                {% else %}
                    <p>not</p>
                {% endif %}

            {% endblock %}
        </div>

    </div>
    <div class="col-sm-2 sidenav" >
      <div class="well">
        <p>ADS</p>
      </div>
      <div class="well">
        <p>ADS</p>
      </div>
    </div>
  </div>
</div>

<footer class="container-fluid text-center">
  <nav aria-label="Page navigation example">
  <ul class="pagination justify-content-center">
    <li class="page-item">
        {% if num_page|add:"-10" >= 1 %}
            <a class="page-link" href="http://127.0.0.1:8000/search/{{ num_page|add:"-10" }}" tabindex="-1">&lt&lt</a>
        {% else %}
            <a class="page-link" href="http://127.0.0.1:8000/search/1" tabindex="-1">&lt&lt</a>
        {% endif %}
    </li>
    <li class="page-item">
        {% if num_page|add:"-1" >= 1 %}
            <a class="page-link" href="http://127.0.0.1:8000/search/{{ num_page|add:"-1" }}" tabindex="-1">&lt</a>
        {% else %}
            <a class="page-link" href="#" tabindex="-1">&lt</a>
        {% endif %}
    </li>
    {% if num_page != num_pages_total %}
        {% if num_page != 1 %}
            <li class="page-item"><a class="page-link" href="http://127.0.0.1:8000/search/1">1</a></li>
            <li class="page-item"><a class="page-link" href="#">...</a></li>
        {% endif %}
        {% for n in pages_inds %}
            {% if n < num_pages_total %}
                <li class="page-item"><a class="page-link" href="http://127.0.0.1:8000/search/{{ n }}">{{ n }}</a></li>
            {% endif %}
        {% endfor %}
        <li class="page-item"><a class="page-link" href="#">...</a></li>
        <li class="page-item"><a class="page-link" href="http://127.0.0.1:8000/search/{{ num_pages_total }}">{{ num_pages_total }}</a></li>
    {% else %}
        <li class="page-item"><a class="page-link" href="http://127.0.0.1:8000/search/1">1</a></li>
        <li class="page-item"><a class="page-link" href="#">...</a></li>
        <li class="page-item"><a class="page-link" href="http://127.0.0.1:8000/search/{{ num_page|add:"-4" }}">{{ num_page|add:"-4" }}</a></li>
        <li class="page-item"><a class="page-link" href="http://127.0.0.1:8000/search/{{ num_page|add:"-3" }}">{{ num_page|add:"-3" }}</a></li>
        <li class="page-item"><a class="page-link" href="http://127.0.0.1:8000/search/{{ num_page|add:"-2" }}">{{ num_page|add:"-2" }}</a></li>
        <li class="page-item"><a class="page-link" href="http://127.0.0.1:8000/search/{{ num_page|add:"-1" }}">{{ num_page|add:"-1" }}</a></li>
        <li class="page-item"><a class="page-link" href="http://127.0.0.1:8000/search/{{ num_page }}">{{ num_page }}</a></li>
    {% endif %}
    <li class="page-item">
        {% if num_page|add:"1" <= num_pages_total %}
            <a class="page-link" href="http://127.0.0.1:8000/search/{{ num_page|add:"1" }}">&gt</a>
        {% else %}
            <a class="page-link" href="#">&gt</a>
        {% endif %}
    </li>
    <li class="page-item">
        {% if num_page|add:"10" <= num_pages_total %}
            <a class="page-link" href="http://127.0.0.1:8000/search/{{ num_page|add:"10" }}">&gt&gt</a>
        {% else %}
            <a class="page-link" href="http://127.0.0.1:8000/search/{{ num_pages_total }}">&gt&gt</a>
        {% endif %}
    </li>
  </ul>
</nav>
</footer>
</body>
</html>